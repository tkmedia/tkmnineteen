<?php

// Add Custom Blocks Panel in Gutenberg
function tkmb_block_categories( $categories, $post ) {
    return array_merge(
        $categories,
        array(
            array(
                'slug' => 'tkmb-blocks',
                'title' => __( 'Theme ACF Blocks', 'tkmnineteen' ),
            ),
        )
    );
}
add_filter( 'block_categories', 'tkmb_block_categories', 10, 2 );


// Register Blocks
add_action('acf/init', 'tkmb_blocks');
function tkmb_blocks() {

    // check function exists.
    if( function_exists('acf_register_block_type') ) {
	    
        // register a Styles Title block.
        acf_register_block_type(array(
            'name'              => 'tkmb-style-title',
            'mode'				=> 'preview',
            'title'             => __('Styled Title', 'tkmnineteen'),
            'description'       => __('', 'tkmnineteen'),
            'render_template'   => get_template_directory() . '/partials/blocks/block-style-title.php',
            'category'          => 'tkmb-blocks',
            'align'             => 'wide',
            'icon'              => '<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"></defs><title/><g data-name="22-chat" id="_22-chat"><polygon class="acfb_svg_icon" points="31 3 1 3 1 23 8 23 14 29 14 23 31 23 31 3"/><line class="acfb_svg_icon" x1="7" x2="25" y1="9" y2="9"/><line class="acfb_svg_icon" x1="7" x2="25" y1="13" y2="13"/><line class="acfb_svg_icon" x1="7" x2="25" y1="17" y2="17"/></g></svg>',
        ));
	    
        // register a Product block.
        acf_register_block_type(array(
            'name'              => 'tkmb-product-block',
            'mode'				=> 'edit',
            'title'             => __('Product Block', 'tkmnineteen'),
            'description'       => __('', 'tkmnineteen'),
            'render_template'   => get_template_directory() . '/partials/blocks/block-product.php',
            'category'          => 'tkmb-blocks',
            'align'             => 'wide',
            'icon'				=> '<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 309.023 309.023" style="enable-background:new 0 0 309.023 309.023;" xml:space="preserve"><g>
	<path d="M221.621,50.647c-0.276-2.496-1.837-4.716-4.11-5.867L157.901,14.58c-2.131-1.08-4.648-1.08-6.779,0L91.51,44.778
		c-2.521,1.277-4.11,3.863-4.11,6.69v0.001v0.001v50.312L4.28,142.215c-2.496,1.187-4.138,3.65-4.272,6.411
		c-0.134,2.762,1.262,5.372,3.632,6.794l52.411,31.449v54.938c0,2.83,1.593,5.419,4.118,6.694l90.96,45.946
		c1.063,0.537,2.223,0.806,3.382,0.806c1.159,0,2.318-0.269,3.382-0.806l90.959-45.946c2.525-1.275,4.118-3.864,4.118-6.694v-54.938
		l52.411-31.449c2.371-1.422,3.767-4.032,3.633-6.794c-0.134-2.761-1.775-5.224-4.271-6.41l-83.122-40.438V50.647z M228.855,122.3
		l-7.233,3.632v-7.317L228.855,122.3z M154.512,29.678l43.014,21.792l-43.014,21.791l-43.016-21.793L154.512,29.678z
		 M87.399,118.616v7.314l-7.23-3.63L87.399,118.616z M23.356,149.758l40.104-19.061l76.048,38.18l-40.302,26.395L23.356,149.758z
		 M147.012,275.563l-75.96-38.37V195.87l24.471,14.684c1.189,0.714,2.525,1.069,3.859,1.069c1.433,0,2.863-0.41,4.109-1.226
		l43.521-28.503V275.563z M154.512,159.624l-52.112-26.163V63.675l48.723,24.684c1.065,0.54,2.227,0.81,3.39,0.81
		c1.162,0,2.324-0.27,3.39-0.81l48.72-24.682v69.785L154.512,159.624z M237.971,237.193l-75.959,38.37v-93.668l43.519,28.503
		c1.246,0.816,2.677,1.226,4.109,1.226c1.334,0,2.67-0.355,3.859-1.069l24.472-14.685V237.193z M209.814,195.272l-40.301-26.395
		l76.048-38.181l40.105,19.061L209.814,195.272z"/></g></svg>',
        ));

        // register a Image block.
        acf_register_block_type(array(
            'name'              => 'tkmb-image-block',
            'mode'				=> 'edit',
            'title'             => __('Styled Image', 'tkmnineteen'),
            'description'       => __('', 'tkmnineteen'),
            'render_template'   => get_template_directory() . '/partials/blocks/block-image.php',
            'category'          => 'tkmb-blocks',
            'align'             => 'wide',
            'icon'				=> '<svg height="512pt" viewBox="0 -36 512 511" width="512pt" xmlns="http://www.w3.org/2000/svg"><path d="m231.898438 198.617188c28.203124 0 51.152343-22.945313 51.152343-51.148438 0-28.207031-22.949219-51.152344-51.152343-51.152344-28.203126 0-51.148438 22.945313-51.148438 51.152344 0 28.203125 22.945312 51.148438 51.148438 51.148438zm0-72.300782c11.664062 0 21.152343 9.488282 21.152343 21.152344 0 11.660156-9.488281 21.148438-21.152343 21.148438-11.660157 0-21.148438-9.488282-21.148438-21.148438 0-11.664062 9.488281-21.152344 21.148438-21.152344zm0 0"/><path d="m493.304688.5h-474.609376c-10.308593 0-18.695312 8.386719-18.695312 18.695312v401.726563c0 10.308594 8.386719 18.695313 18.695312 18.695313h474.609376c10.308593 0 18.695312-8.386719 18.695312-18.695313v-401.726563c0-10.308593-8.386719-18.695312-18.695312-18.695312zm-11.304688 30v237.40625l-94.351562-94.355469c-6.152344-6.140625-16.15625-6.136719-22.304688.011719l-133.441406 133.441406-85.238282-85.234375c-2.980468-2.984375-6.945312-4.628906-11.164062-4.628906-4.214844 0-8.175781 1.640625-11.15625 4.621094l-94.34375 94.34375v-285.605469zm-452 379.117188v-51.085938l105.5-105.5 85.234375 85.234375c2.984375 2.984375 6.949219 4.632813 11.167969 4.632813 4.210937 0 8.175781-1.644532 11.152344-4.625l133.445312-133.445313 105.503906 105.503906v99.285157zm0 0"/></svg>',
        ));

        // register a Image Text block.
        acf_register_block_type(array(
            'name'              => 'tkmb-image-content',
            'mode'				=> 'preview',
            'title'             => __('Image Content', 'tkmnineteen'),
            'description'       => __('', 'tkmnineteen'),
            'render_template'   => get_template_directory() . '/partials/blocks/block-image-content.php',
            'category'          => 'tkmb-blocks',
            'align'             => 'wide',
            'icon'				=> '<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="986.8px" height="986.8px" viewBox="0 0 986.8 986.8" style="enable-background:new 0 0 986.8 986.8;" xml:space="preserve"
	><g>
	<path d="M399.8,164.649H110.5c-22.1,0-40,17.9-40,40c0,22.1,17.9,40,40,40h289.3c22.101,0,40-17.9,40-40
		C439.8,182.55,421.9,164.649,399.8,164.649z"/>
	<path d="M399.8,450.85H206.5c-22.1,0-40,17.9-40,40c0,22.099,17.9,40,40,40h193.3c22.101,0,40-17.9,40-40
		C439.8,468.75,421.9,450.85,399.8,450.85z"/>
	<path d="M399.8,307.75H40c-22.1,0-40,17.9-40,40s17.9,40,40,40h359.8c22.101,0,40-17.9,40-40S421.9,307.75,399.8,307.75z"/>
	<path d="M399.8,594.05H40c-22.1,0-40,17.898-40,40c0,22.1,17.9,40,40,40h359.8c22.101,0,40-17.9,40-40
		C439.8,611.949,421.9,594.05,399.8,594.05z"/>
	<path d="M399.8,737.15H40c-22.1,0-40,17.9-40,40s17.9,40,40,40h359.8c22.101,0,40-17.9,40-40S421.9,737.15,399.8,737.15z"/>
	<path d="M926.8,160.25H572.4c-33.101,0-60,26.9-60,60V766.55c0,33.1,26.899,60,60,60H926.8c33.101,0,60-26.9,60-60V220.25
		C986.8,187.05,960,160.25,926.8,160.25z"/></g></svg>',
        ));

        // register a Button block.
        acf_register_block_type(array(
            'name'              => 'tkmb-button',
            'mode'				=> 'preview',
            'title'             => __('Button block', 'tkmnineteen'),
            'description'       => __('', 'tkmnineteen'),
            'render_template'   => get_template_directory() . '/partials/blocks/block-button.php',
            'category'          => 'tkmb-blocks',
            'align'             => 'wide',
            'icon'				=> '<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 43.161 43.161" style="enable-background:new 0 0 43.161 43.161;" xml:space="preserve">
<g>
	<g>
		<path style="fill:#010002;" d="M39.306,6.606H3.854C1.728,6.606,0,8.335,0,10.46v22.241c0,2.126,1.729,3.854,3.854,3.854h35.452
			c2.127,0,3.855-1.729,3.855-3.854V10.46C43.161,8.334,41.433,6.606,39.306,6.606z M39.199,32.591H3.962V10.57h35.236v22.021
			H39.199z"/>
		<rect x="8.909" y="25.247" style="fill:#010002;" width="3.621" height="3.619"/>
		<rect x="16.15" y="25.247" style="fill:#010002;" width="3.62" height="3.619"/>
		<rect x="23.39" y="25.247" style="fill:#010002;" width="3.62" height="3.619"/>
		<rect x="30.63" y="25.247" style="fill:#010002;" width="3.62" height="3.619"/>
	</g></svg>',
        ));
        
        // register a Button block.
        acf_register_block_type(array(
            'name'              => 'tkmb-custom-slider',
            'mode'				=> 'edit',
            'title'             => __('Custom Slider Block', 'tkmnineteen'),
            'description'       => __('', 'tkmnineteen'),
            'render_template'   => get_template_directory() . '/partials/blocks/block-custom-slider.php',
            'category'          => 'tkmb-blocks',
            'align'             => 'wide',
            'icon'				=> '<svg width="682pt" height="682pt" viewBox="-21 -91 682.66669 682" xmlns="http://www.w3.org/2000/svg">
            <path d="m639.98 7.5312c-0.33594-6.6172-5.7969-11.863-12.484-11.863h-615c-6.6875 0-12.148 5.2461-12.484 11.863-0.015625 0.21484-0.015625 0.42578-0.015625 0.64062v474.99c0 6.9062 5.6016 12.508 12.5 12.508h615c6.8984 0 12.5-5.6016 12.5-12.508v-474.99c0-0.21484 0-0.42578-0.015625-0.64062zm-24.984 463.12h-590v-367.46h590zm0-392.46h-590v-57.668h590z"/>
            <path d="m213.75 62.723h-100c-6.9062 0-12.5-5.5977-12.5-12.5 0-6.9102 5.5938-12.504 12.5-12.504h100c6.9062 0 12.5 5.5938 12.5 12.504 0 6.9023-5.5938 12.5-12.5 12.5z"/>
            <path d="m63.773 62.723c-6.9023 0-12.504-5.5977-12.504-12.5 0-6.9102 5.5898-12.504 12.496-12.504h0.007813c6.9062 0 12.5 5.5938 12.5 12.504 0 6.9023-5.5938 12.5-12.5 12.5z"/>
            <path d="m558.75 176.72h-50v-11.258c0-13.789-11.211-25.004-25-25.004h-327.5c-13.789 0-25 11.215-25 25.004v11.258h-50c-13.789 0-25 11.215-25 25.004v127.54c0 13.793 11.211 25.008 25 25.008h50v11.258c0 13.789 11.211 25.004 25 25.004h327.5c13.789 0 25-11.215 25-25.004v-11.258h50c13.789 0 25-11.215 25-25.008v-127.54c0-13.789-11.211-25.004-25-25.004zm-427.5 152.54h-50v-127.54h50l0.015625 127.54s0 0-0.015625 0zm352.52 36.266s0 0-0.015625 0h-327.5v-200.07h327.5v36.266l0.015625 127.89zm74.984-36.266h-50v-127.54h50l0.015625 127.54s0 0-0.015625 0z"/>
            <path d="m230.8 314.23c-3.125 0-6.2539-1.168-8.6836-3.5117l-37.5-36.227c-2.4375-2.3555-3.8164-5.6055-3.8164-8.9922 0-3.3945 1.3789-6.6406 3.8164-9l37.5-36.227c4.9727-4.793 12.879-4.6562 17.68 0.30859 4.793 4.9727 4.6562 12.887-0.30859 17.68l-28.195 27.238 28.195 27.23c4.9648 4.8008 5.1016 12.715 0.30859 17.68-2.457 2.5391-5.7266 3.8203-8.9961 3.8203z"/>
            <path d="m410.45 314.23c-3.2695 0-6.5391-1.2812-8.9961-3.8203-4.793-4.9648-4.6562-12.883 0.30859-17.68l28.195-27.234-28.195-27.234c-4.9648-4.793-5.1016-12.715-0.30859-17.68 4.8008-4.9648 12.711-5.1016 17.68-0.30859l37.5 36.227c2.4375 2.3594 3.8164 5.6055 3.8164 8.9961 0 3.3906-1.3789 6.6406-3.8164 8.9961l-37.5 36.227c-2.4297 2.3438-5.5586 3.5117-8.6836 3.5117z"/>
            <path d="m320.02 435.65c-6.9023 0-12.504-5.5977-12.504-12.5 0-6.9062 5.5898-12.508 12.496-12.508h0.007813c6.9062 0 12.5 5.6016 12.5 12.508 0 6.9023-5.5938 12.5-12.5 12.5z"/>
            <path d="m370.02 435.65c-6.9023 0-12.504-5.5977-12.504-12.5 0-6.9062 5.5898-12.508 12.496-12.508h0.007813c6.9062 0 12.5 5.6016 12.5 12.508 0 6.9023-5.5938 12.5-12.5 12.5z"/>
            <path d="m270.02 435.65c-6.9023 0-12.504-5.5977-12.504-12.5 0-6.9062 5.5898-12.508 12.496-12.508h0.007813c6.9062 0 12.5 5.6016 12.5 12.508 0 6.9023-5.5938 12.5-12.5 12.5z"/>
            </svg>',
        ));
        	    
    }
    
}
	    